(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function n(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function r(e){n(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function o(e,t){n(2,arguments);var o=r(e),i=r(t);return o.getTime()<i.getTime()}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){var t="function"==typeof Map?new Map:void 0;return(u=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return c(e,arguments,f(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,e)})(e)}function c(e,t,n){return(c=l()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&s(o,n.prototype),o}).apply(null,arguments)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}e.r(t),e.d(t,{NumberWithSteppers:()=>P,SelectRadioList:()=>E});var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(o,e);var t,n,r=(t=o,n=l(),function(){var e,r=f(t);if(n){var o=f(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return a(this,e)});function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this)).element=e,t.name=e.name,t}return o}(u(EventTarget));function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}const E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(r);if(o){var n=w(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function a(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).optionElements=Array.from(e.querySelectorAll("option")),t.radioInputs=t.generateRadioInputs(),e.addEventListener("change",t.handleSelectChange.bind(g(t))),t.optionElements.length){var n=t.optionElements.find((function(e){return void 0!==e.dataset.allowDefault}));t.value=(n||t.optionElements[0]).value}return t}return t=a,(n=[{key:"generateRadioInputs",value:function(){var e=this,t=document.createElement("div");return t.className="select-radio-list ".concat(this.element.className),this.element.parentElement.insertBefore(t,this.element.nextSibling),this.optionElements.map((function(n,r){var o=n.getAttribute("value"),i="".concat(e.name,"-option-").concat(r),a=document.createElement("input");a.setAttribute("type","radio"),a.setAttribute("value",o),a.setAttribute("name","".concat(e.name,"-radio")),a.setAttribute("id",i),a.addEventListener("change",e.handleRadioChange.bind(e)),t.appendChild(a);var u=document.createElement("label");if(u.innerHTML=n.innerHTML,u.setAttribute("for",i),t.appendChild(u),n.dataset.tag){n.innerText+=" (".concat(n.dataset.tag,")");var c=document.createElement("span");c.className="tag",c.innerText=n.dataset.tag,u.appendChild(c)}return a}))}},{key:"disabled",get:function(){return this.element.disabled},set:function(e){if(this.element.disabled=e,e){var t,n=y(this.radioInputs);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.disabled=r.value!==this.element.value}}catch(e){n.e(e)}finally{n.f()}}else this.radioInputs.forEach((function(e){e.disabled=!1}))}},{key:"value",get:function(){return this.element.value},set:function(e){this.element.value=e,this.updateRadioButtonChecked()}},{key:"selectedOptionElement",get:function(){var e=this;return this.optionElements.find((function(t){return t.value===e.value}))}},{key:"updateRadioButtonChecked",value:function(){var e,t=y(this.radioInputs);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.checked=n.value===this.value}}catch(e){t.e(e)}finally{t.f()}}},{key:"handleRadioChange",value:function(e){this.element.value=e.currentTarget.value,this.dispatchEvent(new Event("change"))}},{key:"handleSelectChange",value:function(){this.updateRadioButtonChecked(),this.dispatchEvent(new Event("change"))}}])&&m(t.prototype,n),a}(d);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?T(e):t}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=C(r);if(o){var n=C(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return k(this,e)});function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var n=(t=i.call(this,e)).element.parentElement;t.element.addEventListener("change",(function(){t.dispatchEvent(new Event("change"))})),t.element.addEventListener("animationend",(function(){t.element.classList.remove("changed")}));var r=document.createElement("button");r.className="stepper remove",n.appendChild(r),r.addEventListener("click",t.handleMinClick.bind(T(t)));var o=document.createElement("button");return o.className="stepper add",o.addEventListener("click",t.handePlusClick.bind(T(t))),n.appendChild(o),t}return t=a,(n=[{key:"handleMinClick",value:function(e){e.preventDefault(),this.element.stepDown(),this.dispatchEvent(new Event("change")),this.element.classList.add("changed")}},{key:"handePlusClick",value:function(e){e.preventDefault(),this.element.stepUp(),this.dispatchEvent(new Event("change")),this.element.classList.add("changed")}},{key:"value",get:function(){return void 0===this.element.value?this.element.value:parseInt(this.element.value,10)},set:function(e){this.element.value=e}},{key:"safeValue",get:function(){var e=this.value;if(isNaN(e)||void 0===e){var t=this.element.min||0;return this.element.value=t,t}return e}},{key:"max",get:function(){return this.element.max},set:function(e){this.element.max=e}},{key:"min",get:function(){return this.element.min},set:function(e){this.element.min=e}}])&&S(t.prototype,n),a}(d),_=!1;function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}setTimeout((function(){_=!0,document.body.classList.add("appear-transitions-enabled")}),1e3);var R=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=document.createElement("div"),this.element.classList.add("ExpandTransitionElement"),this._visible=!1,this.display="none",this.activeTransitionCount=0,this.element.addEventListener("transitionrun",this.handleTransitionRun.bind(this)),this.element.addEventListener("transitioncancel",this.handleTransitionCancel.bind(this)),this.element.addEventListener("transitionend",this.handleTransitionEnd.bind(this))}var t,n;return t=e,(n=[{key:"handleTransitionCancel",value:function(){this.activeTransitionCount--}},{key:"handleTransitionEnd",value:function(){this.activeTransitionCount--,this.activeTransitionCount||(this.display=this._visible?"block":"none")}},{key:"handleTransitionRun",value:function(){this.activeTransitionCount++}},{key:"display",get:function(){return this._display},set:function(e){e!==this._display&&(this.element.style.display=e,this._display=e)}},{key:"visible",get:function(){return this._visible},set:function(e){var t=this;if(this._visible!==!!e){var n,r,o=!(n=window.matchMedia("(prefers-reduced-motion: reduce)"))||n.matches;if(e)this.display="block",r=function(){var e=t.element.scrollHeight;t.element.style.maxHeight=e?"".concat(t.element.scrollHeight,"px"):"none"},requestAnimationFrame((function(){return requestAnimationFrame(r)}));else{var i=!o&&"block"===this.display&&_;this.element.style.maxHeight=0,i||this.activeTransitionCount||(this.display="none")}this._visible=!!e}}}])&&A(t.prototype,n),e}(),x={};function L(e){if(x[e])return x[e];var t=function(e){return document.querySelector('[data-template-id="'.concat(e,'"]'))}(e),n=new R;return t.parentElement.insertBefore(n.element,t),n.element.appendChild(t.content.firstElementChild.cloneNode(!0)),x[e]=n,n}function I(e){var t=L(e);document.querySelector("#reservation-form").style.display="none",t.visible=!0}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=q(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function q(e,t){if(e){if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var H,V=document.querySelector("#reservation-form");function J(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];[].concat(e).forEach((function(e){H[e].addEventListener("change",(function(){return z(t)}))})),n&&t()}function U(){L("fully-booked").visible=void 0!==H.date.selectedOptionElement.dataset.fullyBooked}function Y(){var e=H["reservation-amount"].safeValue>=5;e||(H.table.value="shared",$()),H.table.disabled=!e,X(["vegan-amount","vegetarian-amount"],"nopref-amount"),X(["test-amount"],"notest-amount")}function W(){X(["vegan-amount","vegetarian-amount"],"nopref-amount")}function K(){X(["test-amount"],"notest-amount")}function $(){var e="shared"===H.table.value;L("start-time-input").visible=!e,L("shared-table-start-time").visible=e,e&&(H["start-time"].value="19:00")}function X(e,t){var n,r,o=H["reservation-amount"].value;if(isNaN(o))throw new Error("Cannot read reservation amount");var i=function(){r=e.map((function(e){return H[e].safeValue})),n=o-r.reduce((function(e,t){return e+t}))};for(i();n<0;){var a=e.find((function(e,t){return r[t]>0}));if(!a)throw new Error("Expected fields with non-negative values");H[a].value=Math.max(0,H[a].value+n),i()}e.forEach((function(e,t){if(r.length>1){var n=function(e){if(Array.isArray(e))return F(e)}(i=r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||q(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();n.splice(t,1),H[e].max=o-n.reduce((function(e,t){return e+t}))}else H[e].max=o;var i})),H[t].value=n}function Z(){document.getElementById("fatal-form-error").style.display="block",V.style.display="none"}function z(e){try{e()}catch(e){throw Z(),e}}z((function(){L("start-time-input");var e,n=M(V.elements.date.querySelectorAll("option"));try{for(n.s();!(e=n.n()).done;){var r=e.value;o(new Date("".concat(r.value).concat("T19:00:00")),new Date)&&V.elements.date.removeChild(r)}}catch(e){n.e(e)}finally{n.f()}(H=Object.fromEntries(Array.from(V.elements).filter((function(e){return e.name})).map((function(e){return[e.name,e.dataset.inputController?new t[e.dataset.inputController](e):e]})))).date.optionElements.length?(J("date",U),J("table",$),J("reservation-amount",Y),J(["vegan-amount","vegetarian-amount"],W,!1),J("test-amount",K,!1),V.addEventListener("submit",(function(e){e.preventDefault(),z((function(){var e,t;e=D(D({},Object.fromEntries(Object.entries(H).map((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,n)||q(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return[r[0],r[1].value]})))),{},B({},"consent-email-contact",!!H["consent-email-contact"].checked)),(t=V.querySelector('button[type="submit"]')).classList.contains("loading")||(t.classList.add("loading"),fetch("https://script.google.com/macros/s/AKfycbwRaWuTNOYHVY57WfX6NjPka6J73INEYqcIFc0U3xhLSLs1YNDuALJMbKIseRJeZNe1/exec",{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){var t=e.success,n=e.error;if(t)I("success");else{n.description;var r=n.fields;if(r&&r.length)if(r.some((function(e){return e.fatal})))Z();else{var o,i=document.querySelectorAll("[data-field-feedback-for]"),a=null,u=M(i);try{var c=function(){var e,t=o.value,n=null===(e=t.dataset)||void 0===e?void 0:e.fieldFeedbackFor,i=r.find((function(e){return e.field===n}));if(i){var u=document.createElement("div");u.classList.add("field-error"),u.innerText=i.error,t.appendChild(u),a||(a=t)}else for(;t.firstChild;)t.removeChild(t.firstChild)};for(u.s();!(o=u.n()).done;)c()}catch(e){u.e(e)}finally{u.f()}a&&a.scrollIntoView()}else Z()}})).catch((function(e){document.getElementById("fatal-form-error").style.display="block",V.style.display="none"})).finally((function(){t.classList.remove("loading")})))}))})),V.style.display="block"):I("no-dates")}))})();